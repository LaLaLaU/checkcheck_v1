# CheckCheck 导管喷码自动核对系统 - 详细实施计划

**版本**: 1.3
**基于PRD版本**: 1.0
**日期**: 2025-04-26
**更新说明**: V1.3 - 更新环境搭建和基础UI原型设计进展。

## 概述

本计划基于《CheckCheck 导管喷码自动核对系统 - 产品需求文档 (PRD)》 V1.0 制定，旨在提供一个更具体、可操作的项目实施路线图。总计划周期预计为6-7周（考虑了测试确认环节）。

## 阶段一：基础框架搭建与环境准备 (预计 1 周)

**目标**: 搭建项目开发环境，**实现基础的图片加载与显示功能**，完成初步的UI原型设计（包含图片上传）。

**主要任务**:

1.  **环境搭建**:
    *   [✓] 安装 Python 3.8+
    *   [✓] 安装必要的库: PyQt5, OpenCV-Python, PaddleOCR, NumPy, Difflib
    *   [✓] 配置虚拟环境 (使用conda)
    *   [ ] 初始化 Git 版本控制仓库
2.  **~~相机视频流获取~~ (已推迟)**:
    *   ~~[ ] 编写代码以检测并连接到指定的工业相机 (WELLIMAGE WI-U9509C)~~
    *   ~~[ ] 使用 OpenCV (`cv2.VideoCapture`) 捕获实时视频流~~
    *   ~~[ ] 实现基本的错误处理 (如相机未找到)~~
3.  **基础UI原型设计与图片加载**:
    *   [✓] 使用 PyQt5 创建主窗口框架
    *   [✓] 设计主界面布局草图 (包含**图片显示区 (替代视频预览区)**, 结果显示区, 控制区)
    *   [✓] **实现"上传图片"按钮功能，允许用户选择本地图片文件**
    *   [✓] **实现将用户上传的图片显示在 PyQt5 界面的图片显示区** (例如，使用 `QLabel`)
    *   [✓] 添加基本的控制按钮框架 (例如 "开始识别", "设置", "历史记录")
4.  **阶段测试与确认**:
    *   [✓] **内部测试**: 验证环境配置正确，图片能够成功加载并显示在UI上。
    *   [✓] **用户确认**: 向您演示基础UI框架和图片加载显示功能，确认满足初步预期。

**产出物**:
*   [✓] 配置好的开发环境
*   [✓] 可运行的基础应用程序，**能加载并显示用户上传的图片**
*   [✓] 初步的主界面UI框架代码 (包含图片上传功能)
*   [ ] Git 仓库建立
*   [✓] 阶段一用户确认记录

## 阶段二：核心功能开发 (基于上传图片) (预计 2-3 周)

**目标**: **基于用户上传的图片**，实现图像中的自动区域检测、OCR文字识别以及文本比对核心算法。每个核心功能完成后需进行测试和用户确认。

**主要任务**: (任务内容不变，但输入源变为上传的图片)

1.  **自动区域检测**:
    *   [ ] ... (基于上传图片进行) ...
    *   [ ] **用户确认 1**: 向您演示基于上传图片的区域检测效果...
2.  **OCR引擎集成与优化**:
    *   [ ] ... (基于检测到的区域进行) ...
    *   [ ] **用户确认 2**: 向您演示基于上传图片的OCR识别结果...
3.  **文本比对算法**:
    *   [ ] ... (基于OCR结果进行) ...
    *   [ ] **用户确认 3**: 向您演示文本比对逻辑...

**产出物**: (保持不变，但均基于图片处理流程)
*   ...

## 阶段三：用户界面与交互完善 (预计 1-2 周)

**目标**: 完成主界面、设置界面和历史记录界面的开发，集成核心功能，优化用户交互。**相机相关设置将推迟**。

**主要任务**:

1.  **主界面完善**:
    *   [ ] 将核心功能模块集成到主界面流程中 (**触发方式为点击按钮处理当前显示的图片**)
    *   [ ] ... (其他不变) ...
2.  **设置界面开发**:
    *   [ ] 创建设置对话框或窗口
    *   [ ] **~~实现相机参数 (分辨率、曝光等) 的读取与设置~~ (已推迟)**
    *   [ ] 实现OCR参数 (如置信度阈值) 的配置
    *   [ ] 实现比对参数 (相似度阈值) 的配置
    *   [ ] 实现系统行为设置 (如结果自动保存开关)
    *   [ ] 实现设置的保存与加载
3.  **历史记录功能**:
    *   [ ] ... (保持不变，保存处理图片的结果) ...
4.  **阶段测试与确认**:
    *   [ ] **内部测试**: 验证界面功能完整性、易用性，**非相机相关**参数配置生效，历史记录准确。
    *   [ ] **用户确认**: 向您演示完整的界面交互流程 (**基于图片处理**)、设置功能和历史记录功能，确认满足要求。

**产出物**:
*   功能完整并经确认的主界面 (**图片处理流程**)
*   可配置参数并经确认的设置界面 (**不含相机设置**)
*   ... (其他不变) ...

## 阶段四：系统集成测试与优化 (预计 1 周)

**目标**: 对整个**基于图片处理**的系统进行全面的功能、性能、稳定性测试...

**主要任务**: (测试重点放在图片处理流程上)
*   ...

## 阶段五：打包、文档与交付 (预计 1 周)

**目标**: 将**当前阶段 (基于图片处理)** 的应用程序打包...

**主要任务**:
*   ...

## **待相机到货后**:

*   **补充开发**:
    *   [ ] 实现阶段一推迟的"相机视频流获取"功能。
    *   [ ] 在主界面UI中集成实时视频流显示，并可能需要调整布局。
    *   [ ] 实现阶段三推迟的"相机设置"功能。
    *   [ ] 调整主界面的触发逻辑，支持从实时视频流自动或手动触发识别。
*   **补充测试**:
    *   [ ] 对相机相关功能进行单元测试和集成测试。
    *   [ ] 进行包含实时视频流的端到端测试、性能测试和稳定性测试。
*   **更新打包与文档**:
    *   [ ] 重新打包包含完整功能的应用程序。
    *   [ ] 更新用户手册，加入相机操作和设置说明。